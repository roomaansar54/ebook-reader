{
  "version": 3,
  "file": "angular-epub-viewer.umd.js",
  "sources": [
    "ng://angular-epub-viewer/out/angularEpubViewer.module.ts",
    "ng://angular-epub-viewer/out/angularEpubViewer.component.ts"
  ],
  "sourcesContent": [
    "import {NgModule} from '@angular/core';\nimport {AngularEpubViewerComponent} from './angularEpubViewer.component';\n\n@NgModule({\n  imports: [],\n  declarations: [AngularEpubViewerComponent],\n  exports: [AngularEpubViewerComponent]\n})\nexport class AngularEpubViewerModule {}\n",
    "import {\n    AfterViewInit,\n    Component,\n    ElementRef,\n    EventEmitter,\n    Input,\n    NgZone,\n    OnDestroy,\n    Output,\n    ViewChild,\n    ViewEncapsulation\n} from '@angular/core';\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\nimport {Subscription} from \"rxjs/Subscription\";\nimport {\n    EpubChapter,\n    EpubError,\n    EpubLocation,\n    EpubMetadata,\n    EpubPage,\n    EpubSearchResult\n} from \"./angularEpubViewer.models\";\nimport 'rxjs/add/operator/filter';\n\ndeclare const ePub: any;\n\n/**\n * AngularEpubViewer component\n */\n@Component({\n    selector: 'angular-epub-viewer',\n    template: `<div id=\"angularEpubViewerComponent\" [style.padding]=\"padding\" #angularEpubViewerComponent></div>`,\n    styles: [`\n        #angularEpubViewerComponent {\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            overflow: hidden;\n        }\n    `],\n    encapsulation: ViewEncapsulation.None\n})\nexport class AngularEpubViewerComponent implements AfterViewInit, OnDestroy {\n\n    /**\n     * Root container's DOM reference\n     */\n    @ViewChild('angularEpubViewerComponent', {read: ElementRef})\n    root: ElementRef;\n\n    /**\n     * Primary object\n     */\n    epub: any = null;\n\n    /**\n     * Current location of document's rendered part\n     */\n    currentLocation: EpubLocation = {\n        startCfi: null,\n        endCfi: null,\n        page: null,\n        chapter: null\n    };\n\n    /**\n     * Indicates whenever document is ready\n     */\n    documentReady: boolean = false;\n\n    /**\n     * Indicates whenever chapter is displayed\n     */\n    isChapterDisplayed: boolean = false;\n\n    /**\n     * Indicates whenever pagination is computing\n     */\n    computingPagination: boolean = false;\n\n    /**\n     * Indicates whenever searching text\n     */\n    searchingText: boolean = false;\n\n    /**\n     * Root container's padding in px, em, etc.\n     */\n    @Input()\n    padding: string = null;\n    /**\n     * Enables auto calculate of pagination after document is ready or viewport has been changed\n     */\n    @Input()\n    autoPagination: boolean = false;\n    /**\n     * Enables auto loading of metadata after document is ready\n     */\n    @Input()\n    autoMetadata: boolean = false;\n    /**\n     * Enables auto loading of table of contents after document is ready\n     */\n    @Input()\n    autoTOC: boolean = false;\n\n    /**\n     * Get event when document is loaded\n     */\n    @Output('onDocumentReady')\n    onDocumentReady: EventEmitter<void> = new EventEmitter<void>();\n    /**\n     * Get event when chapter is unloaded\n     */\n    @Output('onChapterUnloaded')\n    onChapterUnloaded: EventEmitter<void> = new EventEmitter<void>();\n    /**\n     * Get event when chapter is displayed\n     */\n    @Output('onChapterDisplayed')\n    onChapterDisplayed: EventEmitter<EpubChapter> = new EventEmitter<EpubChapter>();\n    /**\n     * Get event about the current location\n     */\n    @Output('onLocationFound')\n    onLocationFound: EventEmitter<EpubLocation> = new EventEmitter<EpubLocation>();\n    /**\n     * Get event about search results\n     */\n    @Output('onSearchFinished')\n    onSearchFinished: EventEmitter<EpubSearchResult[]> = new EventEmitter<EpubSearchResult[]>();\n    /**\n     * Get event about pagination\n     */\n    @Output('onPaginationComputed')\n    onPaginationComputed: EventEmitter<EpubPage[]> = new EventEmitter<EpubPage[]>();\n    /**\n     * Get event about metadata\n     */\n    @Output('onMetadataLoaded')\n    onMetadataLoaded: EventEmitter<EpubMetadata> = new EventEmitter<EpubMetadata>();\n    /**\n     * Get event about table of contents\n     */\n    @Output('onTOCLoaded')\n    onTOCLoaded: EventEmitter<EpubChapter[]> = new EventEmitter<EpubChapter[]>();\n    /**\n     * Get event when any error occurred\n     */\n    @Output('onErrorOccurred')\n    onErrorOccurred: EventEmitter<EpubError> = new EventEmitter<EpubError>();\n\n    /**\n     * Starts loading document by link only after DOM is ready\n     */\n    private _link: BehaviorSubject<string> = new BehaviorSubject<string>(null);\n    private linkSubscription: Subscription;\n\n    private needSearchText: string = null;\n\n    private needComputePagination: boolean = false;\n\n    constructor(private zone: NgZone) {}\n\n    ngAfterViewInit() {\n        this.linkSubscription = this._link.asObservable()\n            .filter(link => link != null)\n            .subscribe(link => {\n                this.initEpub({\n                    bookPath: link\n                });\n            });\n    }\n\n    private initEpub = (properties: object) => {\n        this.destroyEpub();\n        this.epub = ePub(properties);\n        this.epub.on('book:ready', () => {\n            this.zone.run(() => {\n                this.documentReady = true;\n                this.onDocumentReady.next(null);\n                if (this.autoPagination) {\n                    this.needComputePagination = true;\n                }\n                if (this.autoMetadata) {\n                    this.loadMetadata();\n                }\n                if (this.autoTOC) {\n                    this.loadTOC();\n                }\n            });\n        });\n        this.epub.on('book:pageChanged', (location) => {\n            this.zone.run(() => {\n                if (!this.computingPagination) {\n                    this.currentLocation.page = location.anchorPage;\n                    this.onLocationFound.next(this.currentLocation);\n                }\n            });\n        });\n        this.epub.on('renderer:chapterUnloaded', () => {\n            this.zone.run(() => {\n                this.isChapterDisplayed = false;\n                this.onChapterUnloaded.next(null);\n            });\n        });\n        this.epub.on('renderer:chapterDisplayed', (chapter: EpubChapter) => {\n            this.zone.run(() => {\n                this.isChapterDisplayed = true;\n                // no label attribute here\n                chapter['label'] = null;\n                this.onChapterDisplayed.next(chapter);\n                this.currentLocation.chapter = chapter;\n                this.onLocationFound.next(this.currentLocation);\n                if (this.needComputePagination) {\n                    this.computePagination();\n                }\n            });\n        });\n        this.epub.on('renderer:resized', () => {\n            this.zone.run(() => {\n                this.needComputePagination = true;\n                if (this.autoPagination) {\n                    this.computePagination();\n                }\n            });\n        });\n        this.epub.on('renderer:visibleRangeChanged', range => {\n            this.zone.run(() => {\n                // renderer:locationChanged is a part of this event\n                this.currentLocation.startCfi = range.start;\n                this.currentLocation.endCfi = range.end;\n                this.onLocationFound.next(this.currentLocation);\n            });\n        });\n        this.epub.renderTo('angularEpubViewerComponent');\n    };\n\n    /**\n     * Opens EPUB document by link\n     * @param link\n     */\n    openLink(link: string) {\n        this._link.next(link);\n    }\n\n    /**\n     * Opens EPUB document file\n     * @param file\n     */\n    openFile(file: File) {\n        if (window['FileReader']) {\n            this.zone.runOutsideAngular(() => {\n                const reader: FileReader = new FileReader();\n                reader.onload = () => {\n                    this.zone.run(() => {\n                        this.initEpub({\n                            bookPath: reader.result\n                        });\n                    });\n                };\n                reader.onerror = () => {\n                    this.zone.run(() => {\n                        this.onErrorOccurred.emit(EpubError.READ_FILE);\n                    });\n                };\n                reader.readAsArrayBuffer(file);\n            });\n        } else {\n            this.onErrorOccurred.emit(EpubError.OPEN_FILE);\n        }\n    }\n\n    /**\n     * Navigates to the specified url or EPUB CFI or page\n     * @param location\n     */\n    goTo(location: string | number) {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        if (typeof location === \"number\") {\n            // page\n            this.epub.displayChapter(location);\n        } else if (/.*html$/.test(location)) {\n            // url\n            this.epub.goto(location);\n        } else {\n            // EPUB CFI\n            this.epub.displayChapter(location);\n        }\n    }\n\n    /**\n     * Navigates to the next page\n     */\n    nextPage() {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        this.epub.nextPage();\n    }\n\n    /**\n     * Navigates to the previous page\n     */\n    previousPage() {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        this.epub.prevPage();\n    }\n\n    /**\n     * Searches all text matches *in the current chapter*\n     * @param text\n     */\n    searchText(text: string) {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        if (!this.isChapterDisplayed) {\n            this.onErrorOccurred.emit(EpubError.NOT_DISPLAYED_CHAPTER);\n            return;\n        }\n        if (!text || text.trim().length <= 0) {\n            this.onErrorOccurred.emit(EpubError.SEARCH);\n            return;\n        }\n        if (this.searchingText) {\n            this.needSearchText = text;\n            return;\n        }\n        this.searchingText = true;\n        this.needSearchText = null;\n        this.zone.runOutsideAngular(() => {\n            const results: EpubSearchResult[] = this.epub.currentChapter.find(text.trim());\n            this.zone.run(() => {\n                this.searchingText = false;\n                if (this.needSearchText) {\n                    this.searchText(this.needSearchText);\n                } else {\n                    this.onSearchFinished.next(results);\n                }\n            });\n        });\n    }\n\n    /**\n     * Adds style to be attached to the document's body element\n     * @param style\n     * @param value\n     */\n    setStyle(style: string, value: string) {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        this.epub.setStyle(style, value);\n    }\n\n    /**\n     * Removes a style from the rendered document\n     * @param style\n     */\n    resetStyle(style: string) {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        this.epub.removeStyle(style);\n    }\n\n    /**\n     * Calculates pagination as output event\n     */\n    computePagination() {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        if (!this.isChapterDisplayed) {\n            this.onErrorOccurred.emit(EpubError.NOT_DISPLAYED_CHAPTER);\n            return;\n        }\n        if (this.computingPagination) {\n            return;\n        }\n        this.computingPagination = true;\n        this.needComputePagination = false;\n        this.zone.runOutsideAngular(() => {\n            this.epub.generatePagination()\n                .then((pages: EpubPage[]) => {\n                    const currentPage = this.epub.pagination.pageFromCfi(this.epub.getCurrentLocationCfi());\n                    this.zone.run(() => {\n                        this.computingPagination = false;\n                        if (this.needComputePagination) {\n                            this.computePagination();\n                        } else {\n                            this.onPaginationComputed.next(pages);\n                            this.currentLocation.page = currentPage;\n                            this.onLocationFound.next(this.currentLocation);\n                        }\n                    });\n                })\n                .catch(() => {\n                    this.zone.run(() => {\n                        this.computingPagination = false;\n                        this.onErrorOccurred.emit(EpubError.COMPUTE_PAGINATION);\n                    });\n                });\n        });\n    }\n\n    /**\n     * Loads metadata as output event\n     */\n    loadMetadata() {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        this.zone.runOutsideAngular(() => {\n            this.epub.getMetadata()\n                .then((metadata: EpubMetadata) => {\n                    this.zone.run(() => {\n                        this.onMetadataLoaded.next(metadata);\n                    });\n                })\n                .catch(() => {\n                    this.zone.run(() => {\n                        this.onErrorOccurred.emit(EpubError.LOAD_METADATA);\n                    });\n                });\n        });\n    }\n\n    /**\n     * Loads table of contents as output event\n     */\n    loadTOC() {\n        if (!this.documentReady) {\n            this.onErrorOccurred.emit(EpubError.NOT_LOADED_DOCUMENT);\n            return;\n        }\n        this.zone.runOutsideAngular(() => {\n            this.epub.getToc()\n                .then((chapters: EpubChapter[]) => {\n                    this.zone.run(() => {\n                        this.onTOCLoaded.next(chapters);\n                    });\n                })\n                .catch(() => {\n                    this.zone.run(() => {\n                        this.onErrorOccurred.emit(EpubError.LOAD_TOC);\n                    });\n                });\n        });\n    }\n\n    private destroyEpub() {\n        this.documentReady = false;\n        this.isChapterDisplayed = false;\n        this.searchingText = false;\n        this.needSearchText = null;\n        this.computingPagination = false;\n        this.needComputePagination = false;\n        this.currentLocation = {\n            startCfi: null,\n            endCfi: null,\n            page: null,\n            chapter: null\n        };\n        if (this.epub) {\n            this.epub.destroy();\n            this.epub = null;\n        }\n    };\n\n    ngOnDestroy() {\n        if (this.linkSubscription) {this.linkSubscription.unsubscribe();}\n        this.destroyEpub();\n    }\n}\n"
  ],
  "names": [
    "NgModule",
    "Output",
    "Input",
    "ViewChild",
    "ElementRef",
    "NgZone",
    "ViewEncapsulation",
    "Component",
    "BehaviorSubject",
    "EventEmitter"
  ],
  "mappings": "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"
}
